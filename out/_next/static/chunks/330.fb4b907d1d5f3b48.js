"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{9365:function(a,b,c){c.d(b,{z:function(){return h}});var d=c(2212);const e={type:"change"},f={type:"start"},g={type:"end"};class h extends d.pBf{constructor(i,j){super(),void 0===j&&console.warn("THREE.OrbitControls: The second parameter \"domElement\" is now mandatory."),j===document&&console.error("THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead."),this.object=i,this.domElement=j,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new d.Pa4(),this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=0.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:d.RsA.ROTATE,MIDDLE:d.RsA.DOLLY,RIGHT:d.RsA.PAN},this.touches={ONE:d.QmN.ROTATE,TWO:d.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",ba),this._domElementKeyEvents=a},this.saveState=function(){k.target0.copy(k.target),k.position0.copy(k.object.position),k.zoom0=k.object.zoom},this.reset=function(){k.target.copy(k.target0),k.object.position.copy(k.position0),k.object.zoom=k.zoom0,k.object.updateProjectionMatrix(),k.dispatchEvent(e),k.update(),m=l.NONE},this.update=(function(){const a=new d.Pa4(),b=new d._fP().setFromUnitVectors(i.up,new d.Pa4(0,1,0)),c=b.clone().invert(),f=new d.Pa4(),g=new d._fP(),h=2*Math.PI;return function(){const d=k.object.position;a.copy(d).sub(k.target),a.applyQuaternion(b),o.setFromVector3(a),k.autoRotate&&m===l.NONE&&G(E()),k.enableDamping?(o.theta+=p.theta*k.dampingFactor,o.phi+=p.phi*k.dampingFactor):(o.theta+=p.theta,o.phi+=p.phi);let i=k.minAzimuthAngle,j=k.maxAzimuthAngle;return isFinite(i)&&isFinite(j)&&(i< -Math.PI?i+=h:i>Math.PI&&(i-=h),j< -Math.PI?j+=h:j>Math.PI&&(j-=h),i<=j?o.theta=Math.max(i,Math.min(j,o.theta)):o.theta=o.theta>(i+j)/2?Math.max(i,o.theta):Math.min(j,o.theta)),o.phi=Math.max(k.minPolarAngle,Math.min(k.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=q,o.radius=Math.max(k.minDistance,Math.min(k.maxDistance,o.radius)),!0===k.enableDamping?k.target.addScaledVector(r,k.dampingFactor):k.target.add(r),a.setFromSpherical(o),a.applyQuaternion(c),d.copy(k.target).add(a),k.object.lookAt(k.target),!0===k.enableDamping?(p.theta*=1-k.dampingFactor,p.phi*=1-k.dampingFactor,r.multiplyScalar(1-k.dampingFactor)):(p.set(0,0,0),r.set(0,0,0)),q=1,!!(s||f.distanceToSquared(k.object.position)>n||8*(1-g.dot(k.object.quaternion))>n)&&(k.dispatchEvent(e),f.copy(k.object.position),g.copy(k.object.quaternion),s=!1,!0)}})(),this.dispose=function(){k.domElement.removeEventListener("contextmenu",fa),k.domElement.removeEventListener("pointerdown",V),k.domElement.removeEventListener("pointercancel",Y),k.domElement.removeEventListener("wheel",aa),k.domElement.removeEventListener("pointermove",W),k.domElement.removeEventListener("pointerup",X),null!==k._domElementKeyEvents&&k._domElementKeyEvents.removeEventListener("keydown",ba)};const k=this,l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let m=l.NONE;const n=0.000001,o=new d.$V(),p=new d.$V();let q=1;const r=new d.Pa4();let s=!1;const t=new d.FM8(),u=new d.FM8(),v=new d.FM8(),w=new d.FM8(),x=new d.FM8(),y=new d.FM8(),z=new d.FM8(),A=new d.FM8(),B=new d.FM8(),C=[],D={};function E(){return 2*Math.PI/60/60*k.autoRotateSpeed}function F(){return Math.pow(0.95,k.zoomSpeed)}function G(a){p.theta-=a}function H(a){p.phi-=a}const I=function(){const a=new d.Pa4();return function(b,c){a.setFromMatrixColumn(c,0),a.multiplyScalar(-b),r.add(a)}}(),J=function(){const a=new d.Pa4();return function(b,c){!0===k.screenSpacePanning?a.setFromMatrixColumn(c,1):(a.setFromMatrixColumn(c,0),a.crossVectors(k.object.up,a)),a.multiplyScalar(b),r.add(a)}}(),K=function(){const a=new d.Pa4();return function(b,c){const d=k.domElement;if(k.object.isPerspectiveCamera){const e=k.object.position;a.copy(e).sub(k.target);let f=a.length();I(2*b*(f*=Math.tan(k.object.fov/2*Math.PI/180))/d.clientHeight,k.object.matrix),J(2*c*f/d.clientHeight,k.object.matrix)}else k.object.isOrthographicCamera?(I(b*(k.object.right-k.object.left)/k.object.zoom/d.clientWidth,k.object.matrix),J(c*(k.object.top-k.object.bottom)/k.object.zoom/d.clientHeight,k.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),k.enablePan=!1)}}();function L(a){k.object.isPerspectiveCamera?q/=a:k.object.isOrthographicCamera?(k.object.zoom=Math.max(k.minZoom,Math.min(k.maxZoom,k.object.zoom*a)),k.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),k.enableZoom=!1)}function M(a){k.object.isPerspectiveCamera?q*=a:k.object.isOrthographicCamera?(k.object.zoom=Math.max(k.minZoom,Math.min(k.maxZoom,k.object.zoom/a)),k.object.updateProjectionMatrix(),s=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),k.enableZoom=!1)}function N(a){t.set(a.clientX,a.clientY)}function O(a){w.set(a.clientX,a.clientY)}function P(){if(1===C.length)t.set(C[0].pageX,C[0].pageY);else{const a=0.5*(C[0].pageX+C[1].pageX),b=0.5*(C[0].pageY+C[1].pageY);t.set(a,b)}}function Q(){if(1===C.length)w.set(C[0].pageX,C[0].pageY);else{const a=0.5*(C[0].pageX+C[1].pageX),b=0.5*(C[0].pageY+C[1].pageY);w.set(a,b)}}function R(){const a=C[0].pageX-C[1].pageX,b=C[0].pageY-C[1].pageY;z.set(0,Math.sqrt(a*a+b*b))}function S(a){if(1==C.length)u.set(a.pageX,a.pageY);else{const b=ja(a),c=0.5*(a.pageX+b.x),d=0.5*(a.pageY+b.y);u.set(c,d)}v.subVectors(u,t).multiplyScalar(k.rotateSpeed);const e=k.domElement;G(2*Math.PI*v.x/e.clientHeight),H(2*Math.PI*v.y/e.clientHeight),t.copy(u)}function T(a){if(1===C.length)x.set(a.pageX,a.pageY);else{const b=ja(a),c=0.5*(a.pageX+b.x),d=0.5*(a.pageY+b.y);x.set(c,d)}y.subVectors(x,w).multiplyScalar(k.panSpeed),K(y.x,y.y),w.copy(x)}function U(a){const b=ja(a),c=a.pageX-b.x,d=a.pageY-b.y;A.set(0,Math.sqrt(c*c+d*d)),B.set(0,Math.pow(A.y/z.y,k.zoomSpeed)),L(B.y),z.copy(A)}function V(a){!1!==k.enabled&&(0===C.length&&(k.domElement.setPointerCapture(a.pointerId),k.domElement.addEventListener("pointermove",W),k.domElement.addEventListener("pointerup",X)),ga(a),"touch"===a.pointerType?ca(a):Z(a))}function W(a){!1!==k.enabled&&("touch"===a.pointerType?da(a):$(a))}function X(a){!1!==k.enabled&&("touch"===a.pointerType?ea():_(a),ha(a),0===C.length&&(k.domElement.releasePointerCapture(a.pointerId),k.domElement.removeEventListener("pointermove",W),k.domElement.removeEventListener("pointerup",X)))}function Y(a){ha(a)}function Z(a){let b;switch(a.button){case 0:b=k.mouseButtons.LEFT;break;case 1:b=k.mouseButtons.MIDDLE;break;case 2:b=k.mouseButtons.RIGHT;break;default:b=-1}switch(b){case d.RsA.DOLLY:var c;if(!1===k.enableZoom)return;c=a,z.set(c.clientX,c.clientY),m=l.DOLLY;break;case d.RsA.ROTATE:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===k.enablePan)return;O(a),m=l.PAN}else{if(!1===k.enableRotate)return;N(a),m=l.ROTATE}break;case d.RsA.PAN:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===k.enableRotate)return;N(a),m=l.ROTATE}else{if(!1===k.enablePan)return;O(a),m=l.PAN}break;default:m=l.NONE}m!==l.NONE&&k.dispatchEvent(f)}function $(a){var b,c;if(!1!==k.enabled)switch(m){case l.ROTATE:if(!1===k.enableRotate)return;!function(a){u.set(a.clientX,a.clientY),v.subVectors(u,t).multiplyScalar(k.rotateSpeed);const b=k.domElement;G(2*Math.PI*v.x/b.clientHeight),H(2*Math.PI*v.y/b.clientHeight),t.copy(u),k.update()}(a);break;case l.DOLLY:if(!1===k.enableZoom)return;b=a,A.set(b.clientX,b.clientY),B.subVectors(A,z),B.y>0?L(F()):B.y<0&&M(F()),z.copy(A),k.update();break;case l.PAN:if(!1===k.enablePan)return;c=a,x.set(c.clientX,c.clientY),y.subVectors(x,w).multiplyScalar(k.panSpeed),K(y.x,y.y),w.copy(x),k.update();break}}function _(a){k.dispatchEvent(g),m=l.NONE}function aa(a){if(!1!==k.enabled&& !1!==k.enableZoom&&m===l.NONE){var b;a.preventDefault(),k.dispatchEvent(f),(b=a).deltaY<0?M(F()):b.deltaY>0&&L(F()),k.update(),k.dispatchEvent(g)}}function ba(a){!1!==k.enabled&& !1!==k.enablePan&&(function(a){let b=!1;switch(a.code){case k.keys.UP:K(0,k.keyPanSpeed),b=!0;break;case k.keys.BOTTOM:K(0,-k.keyPanSpeed),b=!0;break;case k.keys.LEFT:K(k.keyPanSpeed,0),b=!0;break;case k.keys.RIGHT:K(-k.keyPanSpeed,0),b=!0;break}b&&(a.preventDefault(),k.update())})(a)}function ca(a){switch(ia(a),C.length){case 1:switch(k.touches.ONE){case d.QmN.ROTATE:if(!1===k.enableRotate)return;P(),m=l.TOUCH_ROTATE;break;case d.QmN.PAN:if(!1===k.enablePan)return;Q(),m=l.TOUCH_PAN;break;default:m=l.NONE}break;case 2:switch(k.touches.TWO){case d.QmN.DOLLY_PAN:if(!1===k.enableZoom&& !1===k.enablePan)return;k.enableZoom&&R(),k.enablePan&&Q(),m=l.TOUCH_DOLLY_PAN;break;case d.QmN.DOLLY_ROTATE:if(!1===k.enableZoom&& !1===k.enableRotate)return;k.enableZoom&&R(),k.enableRotate&&P(),m=l.TOUCH_DOLLY_ROTATE;break;default:m=l.NONE}break;default:m=l.NONE}m!==l.NONE&&k.dispatchEvent(f)}function da(a){var b,c;switch(ia(a),m){case l.TOUCH_ROTATE:if(!1===k.enableRotate)return;S(a),k.update();break;case l.TOUCH_PAN:if(!1===k.enablePan)return;T(a),k.update();break;case l.TOUCH_DOLLY_PAN:if(!1===k.enableZoom&& !1===k.enablePan)return;b=a,k.enableZoom&&U(b),k.enablePan&&T(b),k.update();break;case l.TOUCH_DOLLY_ROTATE:if(!1===k.enableZoom&& !1===k.enableRotate)return;c=a,k.enableZoom&&U(c),k.enableRotate&&S(c),k.update();break;default:m=l.NONE}}function ea(a){k.dispatchEvent(g),m=l.NONE}function fa(a){!1!==k.enabled&&a.preventDefault()}function ga(a){C.push(a)}function ha(a){delete D[a.pointerId];for(let b=0;b<C.length;b++)if(C[b].pointerId==a.pointerId){C.splice(b,1);return}}function ia(a){let b=D[a.pointerId];void 0===b&&(b=new d.FM8(),D[a.pointerId]=b),b.set(a.pageX,a.pageY)}function ja(a){const b=a.pointerId===C[0].pointerId?C[1]:C[0];return D[b.pointerId]}k.domElement.addEventListener("contextmenu",fa),k.domElement.addEventListener("pointerdown",V),k.domElement.addEventListener("pointercancel",Y),k.domElement.addEventListener("wheel",aa,{passive:!1}),this.update()}}},1217:function(a,b,c){c.d(b,{E:function(){return e}});var d=c(2212);class e extends d.aNw{constructor(f){super(f),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new oa(a)}),this.register(function(a){return new Cb(a)}),this.register(function(a){return new Lb(a)}),this.register(function(a){return new Aa(a)}),this.register(function(a){return new La(a)}),this.register(function(a){return new Wa(a)}),this.register(function(a){return new gb(a)}),this.register(function(a){return new qb(a)}),this.register(function(a){return new K(a)}),this.register(function(a){return new Wb(a)})}load(g,h,i,j){const k=this;let l;l=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:d.Zp0.extractUrlBase(g),this.manager.itemStart(g);const m=function(a){j?j(a):console.error(a),k.manager.itemError(g),k.manager.itemEnd(g)},n=new d.hH6(this.manager);n.setPath(this.path),n.setResponseType("arraybuffer"),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(g,function(a){try{k.parse(a,l,function(a){h(a),k.manager.itemEnd(g)},m)}catch(b){m(b)}},i,m)}setDRACOLoader(o){return this.dracoLoader=o,this}setDDSLoader(){throw new Error("THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".")}setKTX2Loader(p){return this.ktx2Loader=p,this}setMeshoptDecoder(q){return this.meshoptDecoder=q,this}register(r){return -1===this.pluginCallbacks.indexOf(r)&&this.pluginCallbacks.push(r),this}unregister(s){return -1!==this.pluginCallbacks.indexOf(s)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(s),1),this}parse(t,u,v,w){let x;const y={},z={};if("string"==typeof t)x=t;else{const A=d.Zp0.decodeText(new Uint8Array(t,0,4));if(A===cc){try{y[J.KHR_BINARY_GLTF]=new ec(t)}catch(B){w&&w(B);return}x=y[J.KHR_BINARY_GLTF].content}else x=d.Zp0.decodeText(new Uint8Array(t))}const C=JSON.parse(x);if(void 0===C.asset||C.asset.version[0]<2){w&&w(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const D=new Dd(C,{path:u||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});D.fileLoader.setRequestHeader(this.requestHeader);for(let E=0;E<this.pluginCallbacks.length;E++){const F=this.pluginCallbacks[E](D);z[F.name]=F,y[F.name]=!0}if(C.extensionsUsed)for(let G=0;G<C.extensionsUsed.length;++G){const H=C.extensionsUsed[G],I=C.extensionsRequired||[];switch(H){case J.KHR_MATERIALS_UNLIT:y[H]=new ha();break;case J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:y[H]=new Nc();break;case J.KHR_DRACO_MESH_COMPRESSION:y[H]=new oc(C,this.dracoLoader);break;case J.KHR_TEXTURE_TRANSFORM:y[H]=new Gc();break;case J.KHR_MESH_QUANTIZATION:y[H]=new Xc();break;default:I.indexOf(H)>=0&& void 0===z[H]&&console.warn("THREE.GLTFLoader: Unknown extension \""+H+"\".")}}D.setExtensions(y),D.setPlugins(z),D.parse(v,w)}}const J={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class K{constructor(L){this.parser=L,this.name=J.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const M=this.parser,N=this.parser.json.nodes||[];for(let O=0,P=N.length;O<P;O++){const Q=N[O];Q.extensions&&Q.extensions[this.name]&& void 0!==Q.extensions[this.name].light&&M._addNodeRef(this.cache,Q.extensions[this.name].light)}}_loadLight(R){const S=this.parser,T="light:"+R;let U=S.cache.get(T);if(U)return U;const V=S.json,W=V.extensions&&V.extensions[this.name]||{},X=W.lights||[],Y=X[R];let Z;const $=new d.Ilk(16777215);void 0!==Y.color&&$.fromArray(Y.color);const _=void 0!==Y.range?Y.range:0;switch(Y.type){case"directional":(Z=new d.Ox3($)).target.position.set(0,0,-1),Z.add(Z.target);break;case"point":(Z=new d.cek($)).distance=_;break;case"spot":(Z=new d.PMe($)).distance=_,Y.spot=Y.spot||{},Y.spot.innerConeAngle=void 0!==Y.spot.innerConeAngle?Y.spot.innerConeAngle:0,Y.spot.outerConeAngle=void 0!==Y.spot.outerConeAngle?Y.spot.outerConeAngle:Math.PI/4,Z.angle=Y.spot.outerConeAngle,Z.penumbra=1-Y.spot.innerConeAngle/Y.spot.outerConeAngle,Z.target.position.set(0,0,-1),Z.add(Z.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+Y.type)}return Z.position.set(0,0,0),Z.decay=2,void 0!==Y.intensity&&(Z.intensity=Y.intensity),Z.name=S.createUniqueName(Y.name||"light_"+R),U=Promise.resolve(Z),S.cache.add(T,U),U}createNodeAttachment(aa){const ba=this,ca=this.parser,da=ca.json,ea=da.nodes[aa],fa=ea.extensions&&ea.extensions[this.name]||{},ga=fa.light;return void 0===ga?null:this._loadLight(ga).then(function(a){return ca._getNodeRef(ba.cache,ga,a)})}}class ha{constructor(){this.name=J.KHR_MATERIALS_UNLIT}getMaterialType(){return d.vBJ}extendParams(ia,ja,ka){const la=[];ia.color=new d.Ilk(1,1,1),ia.opacity=1;const ma=ja.pbrMetallicRoughness;if(ma){if(Array.isArray(ma.baseColorFactor)){const na=ma.baseColorFactor;ia.color.fromArray(na),ia.opacity=na[3]}void 0!==ma.baseColorTexture&&la.push(ka.assignTexture(ia,"map",ma.baseColorTexture))}return Promise.all(la)}}class oa{constructor(pa){this.parser=pa,this.name=J.KHR_MATERIALS_CLEARCOAT}getMaterialType(qa){const ra=this.parser,sa=ra.json.materials[qa];return sa.extensions&&sa.extensions[this.name]?d.EJi:null}extendMaterialParams(ta,ua){const va=this.parser,wa=va.json.materials[ta];if(!wa.extensions||!wa.extensions[this.name])return Promise.resolve();const xa=[],ya=wa.extensions[this.name];if(void 0!==ya.clearcoatFactor&&(ua.clearcoat=ya.clearcoatFactor),void 0!==ya.clearcoatTexture&&xa.push(va.assignTexture(ua,"clearcoatMap",ya.clearcoatTexture)),void 0!==ya.clearcoatRoughnessFactor&&(ua.clearcoatRoughness=ya.clearcoatRoughnessFactor),void 0!==ya.clearcoatRoughnessTexture&&xa.push(va.assignTexture(ua,"clearcoatRoughnessMap",ya.clearcoatRoughnessTexture)),void 0!==ya.clearcoatNormalTexture&&(xa.push(va.assignTexture(ua,"clearcoatNormalMap",ya.clearcoatNormalTexture)),void 0!==ya.clearcoatNormalTexture.scale)){const za=ya.clearcoatNormalTexture.scale;ua.clearcoatNormalScale=new d.FM8(za,za)}return Promise.all(xa)}}class Aa{constructor(Ba){this.parser=Ba,this.name=J.KHR_MATERIALS_SHEEN}getMaterialType(Ca){const Da=this.parser,Ea=Da.json.materials[Ca];return Ea.extensions&&Ea.extensions[this.name]?d.EJi:null}extendMaterialParams(Fa,Ga){const Ha=this.parser,Ia=Ha.json.materials[Fa];if(!Ia.extensions||!Ia.extensions[this.name])return Promise.resolve();const Ja=[];Ga.sheenColor=new d.Ilk(0,0,0),Ga.sheenRoughness=0,Ga.sheen=1;const Ka=Ia.extensions[this.name];return void 0!==Ka.sheenColorFactor&&Ga.sheenColor.fromArray(Ka.sheenColorFactor),void 0!==Ka.sheenRoughnessFactor&&(Ga.sheenRoughness=Ka.sheenRoughnessFactor),void 0!==Ka.sheenColorTexture&&Ja.push(Ha.assignTexture(Ga,"sheenColorMap",Ka.sheenColorTexture)),void 0!==Ka.sheenRoughnessTexture&&Ja.push(Ha.assignTexture(Ga,"sheenRoughnessMap",Ka.sheenRoughnessTexture)),Promise.all(Ja)}}class La{constructor(Ma){this.parser=Ma,this.name=J.KHR_MATERIALS_TRANSMISSION}getMaterialType(Na){const Oa=this.parser,Pa=Oa.json.materials[Na];return Pa.extensions&&Pa.extensions[this.name]?d.EJi:null}extendMaterialParams(Qa,Ra){const Sa=this.parser,Ta=Sa.json.materials[Qa];if(!Ta.extensions||!Ta.extensions[this.name])return Promise.resolve();const Ua=[],Va=Ta.extensions[this.name];return void 0!==Va.transmissionFactor&&(Ra.transmission=Va.transmissionFactor),void 0!==Va.transmissionTexture&&Ua.push(Sa.assignTexture(Ra,"transmissionMap",Va.transmissionTexture)),Promise.all(Ua)}}class Wa{constructor(Xa){this.parser=Xa,this.name=J.KHR_MATERIALS_VOLUME}getMaterialType(Ya){const Za=this.parser,$a=Za.json.materials[Ya];return $a.extensions&&$a.extensions[this.name]?d.EJi:null}extendMaterialParams(_a,ab){const bb=this.parser,cb=bb.json.materials[_a];if(!cb.extensions||!cb.extensions[this.name])return Promise.resolve();const db=[],eb=cb.extensions[this.name];ab.thickness=void 0!==eb.thicknessFactor?eb.thicknessFactor:0,void 0!==eb.thicknessTexture&&db.push(bb.assignTexture(ab,"thicknessMap",eb.thicknessTexture)),ab.attenuationDistance=eb.attenuationDistance||0;const fb=eb.attenuationColor||[1,1,1];return ab.attenuationColor=new d.Ilk(fb[0],fb[1],fb[2]),Promise.all(db)}}class gb{constructor(hb){this.parser=hb,this.name=J.KHR_MATERIALS_IOR}getMaterialType(ib){const jb=this.parser,kb=jb.json.materials[ib];return kb.extensions&&kb.extensions[this.name]?d.EJi:null}extendMaterialParams(lb,mb){const nb=this.parser,ob=nb.json.materials[lb];if(!ob.extensions||!ob.extensions[this.name])return Promise.resolve();const pb=ob.extensions[this.name];return mb.ior=void 0!==pb.ior?pb.ior:1.5,Promise.resolve()}}class qb{constructor(rb){this.parser=rb,this.name=J.KHR_MATERIALS_SPECULAR}getMaterialType(sb){const tb=this.parser,ub=tb.json.materials[sb];return ub.extensions&&ub.extensions[this.name]?d.EJi:null}extendMaterialParams(vb,wb){const xb=this.parser,yb=xb.json.materials[vb];if(!yb.extensions||!yb.extensions[this.name])return Promise.resolve();const zb=[],Ab=yb.extensions[this.name];wb.specularIntensity=void 0!==Ab.specularFactor?Ab.specularFactor:1,void 0!==Ab.specularTexture&&zb.push(xb.assignTexture(wb,"specularIntensityMap",Ab.specularTexture));const Bb=Ab.specularColorFactor||[1,1,1];return wb.specularColor=new d.Ilk(Bb[0],Bb[1],Bb[2]),void 0!==Ab.specularColorTexture&&zb.push(xb.assignTexture(wb,"specularColorMap",Ab.specularColorTexture).then(function(a){a.encoding=d.knz})),Promise.all(zb)}}class Cb{constructor(Db){this.parser=Db,this.name=J.KHR_TEXTURE_BASISU}loadTexture(Eb){const Fb=this.parser,Gb=Fb.json,Hb=Gb.textures[Eb];if(!Hb.extensions||!Hb.extensions[this.name])return null;const Ib=Hb.extensions[this.name],Jb=Gb.images[Ib.source],Kb=Fb.options.ktx2Loader;if(!Kb){if(!(Gb.extensionsRequired&&Gb.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return Fb.loadTextureImage(Eb,Jb,Kb)}}class Lb{constructor(Mb){this.parser=Mb,this.name=J.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(Nb){const Ob=this.name,Pb=this.parser,Qb=Pb.json,Rb=Qb.textures[Nb];if(!Rb.extensions||!Rb.extensions[Ob])return null;const Sb=Rb.extensions[Ob],Tb=Qb.images[Sb.source];let Ub=Pb.textureLoader;if(Tb.uri){const Vb=Pb.options.manager.getHandler(Tb.uri);null!==Vb&&(Ub=Vb)}return this.detectSupport().then(function(a){if(a)return Pb.loadTextureImage(Nb,Tb,Ub);if(Qb.extensionsRequired&&Qb.extensionsRequired.indexOf(Ob)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Pb.loadTexture(Nb)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(a){const b=new Image();b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",b.onload=b.onerror=function(){a(1===b.height)}})),this.isSupported}}class Wb{constructor(Xb){this.name=J.EXT_MESHOPT_COMPRESSION,this.parser=Xb}loadBufferView(Yb){const Zb=this.parser.json,$b=Zb.bufferViews[Yb];if(!$b.extensions||!$b.extensions[this.name])return null;{const _b=$b.extensions[this.name],ac=this.parser.getDependency("buffer",_b.buffer),bc=this.parser.options.meshoptDecoder;if(!bc||!bc.supported){if(!(Zb.extensionsRequired&&Zb.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return Promise.all([ac,bc.ready]).then(function(a){const b=_b.byteOffset||0,c=_b.byteLength||0,d=_b.count,e=_b.byteStride,f=new ArrayBuffer(d*e),g=new Uint8Array(a[0],b,c);return bc.decodeGltfBuffer(new Uint8Array(f),d,e,g,_b.mode,_b.filter),f})}}}const cc="glTF",dc=12;class ec{constructor(fc){this.name=J.KHR_BINARY_GLTF,this.content=null,this.body=null;const gc=new DataView(fc,0,dc);if(this.header={magic:d.Zp0.decodeText(new Uint8Array(fc.slice(0,4))),version:gc.getUint32(4,!0),length:gc.getUint32(8,!0)},this.header.magic!==cc)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const hc=this.header.length-dc,ic=new DataView(fc,dc);let jc=0;for(;jc<hc;){const kc=ic.getUint32(jc,!0);jc+=4;const lc=ic.getUint32(jc,!0);if(jc+=4,1313821514===lc){const mc=new Uint8Array(fc,dc+jc,kc);this.content=d.Zp0.decodeText(mc)}else if(5130562===lc){const nc=dc+jc;this.body=fc.slice(nc,nc+kc)}jc+=kc}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class oc{constructor(pc,qc){if(!qc)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=J.KHR_DRACO_MESH_COMPRESSION,this.json=pc,this.dracoLoader=qc,this.dracoLoader.preload()}decodePrimitive(rc,sc){const tc=this.json,uc=this.dracoLoader,vc=rc.extensions[this.name].bufferView,wc=rc.extensions[this.name].attributes,xc={},yc={},zc={};for(const Ac in wc){const Bc=sd[Ac]||Ac.toLowerCase();xc[Bc]=wc[Ac]}for(const Cc in rc.attributes){const Dc=sd[Cc]||Cc.toLowerCase();if(void 0!==wc[Cc]){const Ec=tc.accessors[rc.attributes[Cc]],Fc=od[Ec.componentType];zc[Dc]=Fc,yc[Dc]=!0===Ec.normalized}}return sc.getDependency("bufferView",vc).then(function(a){return new Promise(function(b){uc.decodeDracoFile(a,function(a){for(const c in a.attributes){const d=a.attributes[c],e=yc[c];void 0!==e&&(d.normalized=e)}b(a)},xc,zc)})})}}class Gc{constructor(){this.name=J.KHR_TEXTURE_TRANSFORM}extendTexture(Hc,Ic){return void 0!==Ic.texCoord&&console.warn("THREE.GLTFLoader: Custom UV sets in \""+this.name+"\" extension not yet supported."),void 0===Ic.offset&& void 0===Ic.rotation&& void 0===Ic.scale||(Hc=Hc.clone(),void 0!==Ic.offset&&Hc.offset.fromArray(Ic.offset),void 0!==Ic.rotation&&(Hc.rotation=Ic.rotation),void 0!==Ic.scale&&Hc.repeat.fromArray(Ic.scale),Hc.needsUpdate=!0),Hc}}class Jc extends d.Wid{constructor(Kc){super(),this.isGLTFSpecularGlossinessMaterial=!0;const Lc={specular:{value:new d.Ilk().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=Lc,this.onBeforeCompile=function(a){for(const b in Lc)a.uniforms[b]=Lc[b];a.fragmentShader=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>","#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif").replace("#include <metalnessmap_pars_fragment>","#ifdef USE_GLOSSINESSMAP\n\tuniform sampler2D glossinessMap;\n#endif").replace("#include <roughnessmap_fragment>","vec3 specularFactor = specular;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\ttexelSpecular = sRGBToLinear( texelSpecular );\n\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tspecularFactor *= texelSpecular.rgb;\n#endif").replace("#include <metalnessmap_fragment>","float glossinessFactor = glossiness;\n#ifdef USE_GLOSSINESSMAP\n\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\n\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tglossinessFactor *= texelGlossiness.a;\n#endif").replace("#include <lights_physical_fragment>","PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\nmaterial.specularColor = specularFactor;")},Object.defineProperties(this,{specular:{get:function(){return Lc.specular.value},set:function(a){Lc.specular.value=a}},specularMap:{get:function(){return Lc.specularMap.value},set:function(a){Lc.specularMap.value=a,a?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return Lc.glossiness.value},set:function(a){Lc.glossiness.value=a}},glossinessMap:{get:function(){return Lc.glossinessMap.value},set:function(a){Lc.glossinessMap.value=a,a?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(Kc)}copy(Mc){return super.copy(Mc),this.specularMap=Mc.specularMap,this.specular.copy(Mc.specular),this.glossinessMap=Mc.glossinessMap,this.glossiness=Mc.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Nc{constructor(){this.name=J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio",]}getMaterialType(){return Jc}extendParams(Oc,Pc,Qc){const Rc=Pc.extensions[this.name];Oc.color=new d.Ilk(1,1,1),Oc.opacity=1;const Sc=[];if(Array.isArray(Rc.diffuseFactor)){const Tc=Rc.diffuseFactor;Oc.color.fromArray(Tc),Oc.opacity=Tc[3]}if(void 0!==Rc.diffuseTexture&&Sc.push(Qc.assignTexture(Oc,"map",Rc.diffuseTexture)),Oc.emissive=new d.Ilk(0,0,0),Oc.glossiness=void 0!==Rc.glossinessFactor?Rc.glossinessFactor:1,Oc.specular=new d.Ilk(1,1,1),Array.isArray(Rc.specularFactor)&&Oc.specular.fromArray(Rc.specularFactor),void 0!==Rc.specularGlossinessTexture){const Uc=Rc.specularGlossinessTexture;Sc.push(Qc.assignTexture(Oc,"glossinessMap",Uc)),Sc.push(Qc.assignTexture(Oc,"specularMap",Uc))}return Promise.all(Sc)}createMaterial(Vc){const Wc=new Jc(Vc);return Wc.fog=!0,Wc.color=Vc.color,Wc.map=void 0===Vc.map?null:Vc.map,Wc.lightMap=null,Wc.lightMapIntensity=1,Wc.aoMap=void 0===Vc.aoMap?null:Vc.aoMap,Wc.aoMapIntensity=1,Wc.emissive=Vc.emissive,Wc.emissiveIntensity=1,Wc.emissiveMap=void 0===Vc.emissiveMap?null:Vc.emissiveMap,Wc.bumpMap=void 0===Vc.bumpMap?null:Vc.bumpMap,Wc.bumpScale=1,Wc.normalMap=void 0===Vc.normalMap?null:Vc.normalMap,Wc.normalMapType=d.IOt,Vc.normalScale&&(Wc.normalScale=Vc.normalScale),Wc.displacementMap=null,Wc.displacementScale=1,Wc.displacementBias=0,Wc.specularMap=void 0===Vc.specularMap?null:Vc.specularMap,Wc.specular=Vc.specular,Wc.glossinessMap=void 0===Vc.glossinessMap?null:Vc.glossinessMap,Wc.glossiness=Vc.glossiness,Wc.alphaMap=null,Wc.envMap=void 0===Vc.envMap?null:Vc.envMap,Wc.envMapIntensity=1,Wc.refractionRatio=0.98,Wc}}class Xc{constructor(){this.name=J.KHR_MESH_QUANTIZATION}}class Yc extends d._C8{constructor(Zc,$c,_c,ad){super(Zc,$c,_c,ad)}copySampleValue_(bd){const cd=this.resultBuffer,dd=this.sampleValues,ed=this.valueSize,fd=bd*ed*3+ed;for(let gd=0;gd!==ed;gd++)cd[gd]=dd[fd+gd];return cd}}Yc.prototype.beforeStart_=Yc.prototype.copySampleValue_,Yc.prototype.afterEnd_=Yc.prototype.copySampleValue_,Yc.prototype.interpolate_=function(a,b,c,d){const e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=2*g,i=3*g,j=d-b,k=(c-b)/j,l=k*k,m=l*k,n=a*i,o=n-i,p=-2*m+3*l,q=m-l,r=1-p,s=q-l+k;for(let t=0;t!==g;t++){const u=f[o+t+g],v=f[o+t+h]*j,w=f[n+t+g],x=f[n+t]*j;e[t]=r*u+s*v+p*w+q*x}return e};const hd=new d._fP();class id extends Yc{interpolate_(jd,kd,ld,md){const nd=super.interpolate_(jd,kd,ld,md);return hd.fromArray(nd).normalize().toArray(nd),nd}}const od={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pd={9728:d.TyD,9729:d.wem,9984:d.YLQ,9985:d.qyh,9986:d.aH4,9987:d.D1R},qd={33071:d.uWy,33648:d.OoA,10497:d.rpg},rd={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},sd={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},td={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ud={CUBICSPLINE:void 0,LINEAR:d.NMF,STEP:d.Syv},vd={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function wd(a){return void 0===a.DefaultMaterial&&(a.DefaultMaterial=new d.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:d.Wl3})),a.DefaultMaterial}function xd(a,b,c){for(const d in c.extensions)void 0===a[d]&&(b.userData.gltfExtensions=b.userData.gltfExtensions||{},b.userData.gltfExtensions[d]=c.extensions[d])}function yd(a,b){void 0!==b.extras&&("object"==typeof b.extras?Object.assign(a.userData,b.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+b.extras))}function zd(a,b){if(a.updateMorphTargets(),void 0!==b.weights)for(let c=0,d=b.weights.length;c<d;c++)a.morphTargetInfluences[c]=b.weights[c];if(b.extras&&Array.isArray(b.extras.targetNames)){const e=b.extras.targetNames;if(a.morphTargetInfluences.length===e.length){a.morphTargetDictionary={};for(let f=0,g=e.length;f<g;f++)a.morphTargetDictionary[e[f]]=f}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ad(a){const b=a.extensions&&a.extensions[J.KHR_DRACO_MESH_COMPRESSION];return b?"draco:"+b.bufferView+":"+b.indices+":"+Bd(b.attributes):a.indices+":"+Bd(a.attributes)+":"+a.mode}function Bd(a){let b="";const c=Object.keys(a).sort();for(let d=0,e=c.length;d<e;d++)b+=c[d]+":"+a[c[d]]+";";return b}function Cd(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Dd{constructor(Ed={},Fd={}){this.json=Ed,this.extensions={},this.plugins={},this.options=Fd,this.cache=new function(){let a={};return{get:function(b){return a[b]},add:function(b,c){a[b]=c},remove:function(b){delete a[b]},removeAll:function(){a={}}}}(),this.associations=new Map(),this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&& !1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new d.QRU(this.options.manager):this.textureLoader=new d.dpR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new d.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(Gd){this.extensions=Gd}setPlugins(Hd){this.plugins=Hd}parse(Id,Jd){const Kd=this,Ld=this.json,Md=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([Kd.getDependencies("scene"),Kd.getDependencies("animation"),Kd.getDependencies("camera"),])}).then(function(a){const b={scene:a[0][Ld.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:Ld.asset,parser:Kd,userData:{}};xd(Md,b,Ld),yd(b,Ld),Promise.all(Kd._invokeAll(function(a){return a.afterRoot&&a.afterRoot(b)})).then(function(){Id(b)})}).catch(Jd)}_markDefs(){const Nd=this.json.nodes||[],Od=this.json.skins||[],Pd=this.json.meshes||[];for(let Qd=0,Rd=Od.length;Qd<Rd;Qd++){const Sd=Od[Qd].joints;for(let Td=0,Ud=Sd.length;Td<Ud;Td++)Nd[Sd[Td]].isBone=!0}for(let Vd=0,Wd=Nd.length;Vd<Wd;Vd++){const Xd=Nd[Vd];void 0!==Xd.mesh&&(this._addNodeRef(this.meshCache,Xd.mesh),void 0!==Xd.skin&&(Pd[Xd.mesh].isSkinnedMesh=!0)),void 0!==Xd.camera&&this._addNodeRef(this.cameraCache,Xd.camera)}}_addNodeRef(Yd,Zd){void 0!==Zd&&(void 0===Yd.refs[Zd]&&(Yd.refs[Zd]=Yd.uses[Zd]=0),Yd.refs[Zd]++)}_getNodeRef($d,_d,ae){if($d.refs[_d]<=1)return ae;const be=ae.clone(),ce=(a,b)=>{const c=this.associations.get(a);for(const[d,e]of(null!=c&&this.associations.set(b,c),a.children.entries()))ce(e,b.children[d])};return ce(ae,be),be.name+="_instance_"+$d.uses[_d]++,be}_invokeOne(de){const ee=Object.values(this.plugins);ee.push(this);for(let fe=0;fe<ee.length;fe++){const ge=de(ee[fe]);if(ge)return ge}return null}_invokeAll(he){const ie=Object.values(this.plugins);ie.unshift(this);const je=[];for(let ke=0;ke<ie.length;ke++){const le=he(ie[ke]);le&&je.push(le)}return je}getDependency(me,ne){const oe=me+":"+ne;let pe=this.cache.get(oe);if(!pe){switch(me){case"scene":pe=this.loadScene(ne);break;case"node":pe=this.loadNode(ne);break;case"mesh":pe=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(ne)});break;case"accessor":pe=this.loadAccessor(ne);break;case"bufferView":pe=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(ne)});break;case"buffer":pe=this.loadBuffer(ne);break;case"material":pe=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(ne)});break;case"texture":pe=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(ne)});break;case"skin":pe=this.loadSkin(ne);break;case"animation":pe=this.loadAnimation(ne);break;case"camera":pe=this.loadCamera(ne);break;default:throw new Error("Unknown type: "+me)}this.cache.add(oe,pe)}return pe}getDependencies(qe){let re=this.cache.get(qe);if(!re){const se=this,te=this.json[qe+("mesh"===qe?"es":"s")]||[];re=Promise.all(te.map(function(a,b){return se.getDependency(qe,b)})),this.cache.add(qe,re)}return re}loadBuffer(ue){const ve=this.json.buffers[ue],we=this.fileLoader;if(ve.type&&"arraybuffer"!==ve.type)throw new Error("THREE.GLTFLoader: "+ve.type+" buffer type is not supported.");if(void 0===ve.uri&&0===ue)return Promise.resolve(this.extensions[J.KHR_BINARY_GLTF].body);const xe=this.options;return new Promise(function(a,b){we.load(d.Zp0.resolveURL(ve.uri,xe.path),a,void 0,function(){b(new Error("THREE.GLTFLoader: Failed to load buffer \""+ve.uri+"\"."))})})}loadBufferView(ye){const ze=this.json.bufferViews[ye];return this.getDependency("buffer",ze.buffer).then(function(a){const b=ze.byteLength||0,c=ze.byteOffset||0;return a.slice(c,c+b)})}loadAccessor(Ae){const Be=this,Ce=this.json,De=this.json.accessors[Ae];if(void 0===De.bufferView&& void 0===De.sparse)return Promise.resolve(null);const Ee=[];return void 0!==De.bufferView?Ee.push(this.getDependency("bufferView",De.bufferView)):Ee.push(null),void 0!==De.sparse&&(Ee.push(this.getDependency("bufferView",De.sparse.indices.bufferView)),Ee.push(this.getDependency("bufferView",De.sparse.values.bufferView))),Promise.all(Ee).then(function(a){const b=a[0],c=rd[De.type],e=od[De.componentType],f=e.BYTES_PER_ELEMENT,g=De.byteOffset||0,h=void 0!==De.bufferView?Ce.bufferViews[De.bufferView].byteStride:void 0,i=!0===De.normalized;let j,k;if(h&&h!==f*c){const l=Math.floor(g/h),m="InterleavedBuffer:"+De.bufferView+":"+De.componentType+":"+l+":"+De.count;let n=Be.cache.get(m);n||(j=new e(b,l*h,De.count*h/f),n=new d.vpT(j,h/f),Be.cache.add(m,n)),k=new d.kB5(n,c,g%h/f,i)}else j=null===b?new e(De.count*c):new e(b,g,De.count*c),k=new d.TlE(j,c,i);if(void 0!==De.sparse){const o=rd.SCALAR,p=od[De.sparse.indices.componentType],q=De.sparse.indices.byteOffset||0,r=De.sparse.values.byteOffset||0,s=new p(a[1],q,De.sparse.count*o),t=new e(a[2],r,De.sparse.count*c);null!==b&&(k=new d.TlE(k.array.slice(),k.itemSize,k.normalized));for(let u=0,v=s.length;u<v;u++){const w=s[u];if(k.setX(w,t[u*c]),c>=2&&k.setY(w,t[u*c+1]),c>=3&&k.setZ(w,t[u*c+2]),c>=4&&k.setW(w,t[u*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return k})}loadTexture(Fe){const Ge=this.json,He=this.options,Ie=Ge.textures[Fe],Je=Ge.images[Ie.source];let Ke=this.textureLoader;if(Je.uri){const Le=He.manager.getHandler(Je.uri);null!==Le&&(Ke=Le)}return this.loadTextureImage(Fe,Je,Ke)}loadTextureImage(Me,Ne,Oe){const Pe=this,Qe=this.json,Re=this.options,Se=Qe.textures[Me],Te=(Ne.uri||Ne.bufferView)+":"+Se.sampler;if(this.textureCache[Te])return this.textureCache[Te];const Ue=self.URL||self.webkitURL;let Ve=Ne.uri||"",We=!1;if(void 0!==Ne.bufferView)Ve=Pe.getDependency("bufferView",Ne.bufferView).then(function(a){We=!0;const b=new Blob([a],{type:Ne.mimeType});return Ve=Ue.createObjectURL(b)});else if(void 0===Ne.uri)throw new Error("THREE.GLTFLoader: Image "+Me+" is missing URI and bufferView");const Xe=Promise.resolve(Ve).then(function(a){return new Promise(function(b,c){let e=b;!0===Oe.isImageBitmapLoader&&(e=function(a){const c=new d.xEZ(a);c.needsUpdate=!0,b(c)}),Oe.load(d.Zp0.resolveURL(a,Re.path),e,void 0,c)})}).then(function(a){!0===We&&Ue.revokeObjectURL(Ve),a.flipY=!1,Se.name&&(a.name=Se.name);const b=Qe.samplers||{},c=b[Se.sampler]||{};return a.magFilter=pd[c.magFilter]||d.wem,a.minFilter=pd[c.minFilter]||d.D1R,a.wrapS=qd[c.wrapS]||d.rpg,a.wrapT=qd[c.wrapT]||d.rpg,Pe.associations.set(a,{textures:Me}),a}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",Ve),null});return this.textureCache[Te]=Xe,Xe}assignTexture(Ye,Ze,$e){const _e=this;return this.getDependency("texture",$e.index).then(function(a){if(void 0===$e.texCoord||0==$e.texCoord||"aoMap"===Ze&&1==$e.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+$e.texCoord+" for texture "+Ze+" not yet supported."),_e.extensions[J.KHR_TEXTURE_TRANSFORM]){const b=void 0!==$e.extensions?$e.extensions[J.KHR_TEXTURE_TRANSFORM]:void 0;if(b){const c=_e.associations.get(a);a=_e.extensions[J.KHR_TEXTURE_TRANSFORM].extendTexture(a,b),_e.associations.set(a,c)}}return Ye[Ze]=a,a})}assignFinalMaterial(af){const bf=af.geometry;let cf=af.material;const df=void 0===bf.attributes.tangent,ef=void 0!==bf.attributes.color,ff=void 0===bf.attributes.normal;if(af.isPoints){const gf="PointsMaterial:"+cf.uuid;let hf=this.cache.get(gf);hf||(hf=new d.UY4(),d.F5T.prototype.copy.call(hf,cf),hf.color.copy(cf.color),hf.map=cf.map,hf.sizeAttenuation=!1,this.cache.add(gf,hf)),cf=hf}else if(af.isLine){const jf="LineBasicMaterial:"+cf.uuid;let kf=this.cache.get(jf);kf||(kf=new d.nls(),d.F5T.prototype.copy.call(kf,cf),kf.color.copy(cf.color),this.cache.add(jf,kf)),cf=kf}if(df||ef||ff){let lf="ClonedMaterial:"+cf.uuid+":";cf.isGLTFSpecularGlossinessMaterial&&(lf+="specular-glossiness:"),df&&(lf+="derivative-tangents:"),ef&&(lf+="vertex-colors:"),ff&&(lf+="flat-shading:");let mf=this.cache.get(lf);mf||(mf=cf.clone(),ef&&(mf.vertexColors=!0),ff&&(mf.flatShading=!0),df&&(mf.normalScale&&(mf.normalScale.y*=-1),mf.clearcoatNormalScale&&(mf.clearcoatNormalScale.y*=-1)),this.cache.add(lf,mf),this.associations.set(mf,this.associations.get(cf))),cf=mf}cf.aoMap&& void 0===bf.attributes.uv2&& void 0!==bf.attributes.uv&&bf.setAttribute("uv2",bf.attributes.uv),af.material=cf}getMaterialType(){return d.Wid}loadMaterial(nf){const of=this,pf=this.json,qf=this.extensions,rf=pf.materials[nf];let sf;const tf={},uf=rf.extensions||{},vf=[];if(uf[J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const wf=qf[J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];sf=wf.getMaterialType(),vf.push(wf.extendParams(tf,rf,of))}else if(uf[J.KHR_MATERIALS_UNLIT]){const xf=qf[J.KHR_MATERIALS_UNLIT];sf=xf.getMaterialType(),vf.push(xf.extendParams(tf,rf,of))}else{const yf=rf.pbrMetallicRoughness||{};if(tf.color=new d.Ilk(1,1,1),tf.opacity=1,Array.isArray(yf.baseColorFactor)){const zf=yf.baseColorFactor;tf.color.fromArray(zf),tf.opacity=zf[3]}void 0!==yf.baseColorTexture&&vf.push(of.assignTexture(tf,"map",yf.baseColorTexture)),tf.metalness=void 0!==yf.metallicFactor?yf.metallicFactor:1,tf.roughness=void 0!==yf.roughnessFactor?yf.roughnessFactor:1,void 0!==yf.metallicRoughnessTexture&&(vf.push(of.assignTexture(tf,"metalnessMap",yf.metallicRoughnessTexture)),vf.push(of.assignTexture(tf,"roughnessMap",yf.metallicRoughnessTexture))),sf=this._invokeOne(function(a){return a.getMaterialType&&a.getMaterialType(nf)}),vf.push(Promise.all(this._invokeAll(function(a){return a.extendMaterialParams&&a.extendMaterialParams(nf,tf)})))}!0===rf.doubleSided&&(tf.side=d.ehD);const Af=rf.alphaMode||vd.OPAQUE;if(Af===vd.BLEND?(tf.transparent=!0,tf.depthWrite=!1):(tf.format=d.UCm,tf.transparent=!1,Af===vd.MASK&&(tf.alphaTest=void 0!==rf.alphaCutoff?rf.alphaCutoff:0.5)),void 0!==rf.normalTexture&&sf!==d.vBJ&&(vf.push(of.assignTexture(tf,"normalMap",rf.normalTexture)),tf.normalScale=new d.FM8(1,1),void 0!==rf.normalTexture.scale)){const Bf=rf.normalTexture.scale;tf.normalScale.set(Bf,Bf)}return void 0!==rf.occlusionTexture&&sf!==d.vBJ&&(vf.push(of.assignTexture(tf,"aoMap",rf.occlusionTexture)),void 0!==rf.occlusionTexture.strength&&(tf.aoMapIntensity=rf.occlusionTexture.strength)),void 0!==rf.emissiveFactor&&sf!==d.vBJ&&(tf.emissive=new d.Ilk().fromArray(rf.emissiveFactor)),void 0!==rf.emissiveTexture&&sf!==d.vBJ&&vf.push(of.assignTexture(tf,"emissiveMap",rf.emissiveTexture)),Promise.all(vf).then(function(){let a;return a=sf===Jc?qf[J.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(tf):new sf(tf),rf.name&&(a.name=rf.name),a.map&&(a.map.encoding=d.knz),a.emissiveMap&&(a.emissiveMap.encoding=d.knz),yd(a,rf),of.associations.set(a,{materials:nf}),rf.extensions&&xd(qf,a,rf),a})}createUniqueName(Cf){const Df=d.iUV.sanitizeNodeName(Cf||"");let Ef=Df;for(let Ff=1;this.nodeNamesUsed[Ef];++Ff)Ef=Df+"_"+Ff;return this.nodeNamesUsed[Ef]=!0,Ef}loadGeometries(Gf){const Hf=this,If=this.extensions,Jf=this.primitiveCache;function Kf(a){return If[J.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,Hf).then(function(b){return Sg(b,a,Hf)})}const Lf=[];for(let Mf=0,Nf=Gf.length;Mf<Nf;Mf++){const Of=Gf[Mf],Pf=Ad(Of),Qf=Jf[Pf];if(Qf)Lf.push(Qf.promise);else{let Rf;Rf=Of.extensions&&Of.extensions[J.KHR_DRACO_MESH_COMPRESSION]?Kf(Of):Sg(new d.u9r(),Of,Hf),Jf[Pf]={primitive:Of,promise:Rf},Lf.push(Rf)}}return Promise.all(Lf)}loadMesh(Sf){const Tf=this,Uf=this.json,Vf=this.extensions,Wf=Uf.meshes[Sf],Xf=Wf.primitives,Yf=[];for(let Zf=0,$f=Xf.length;Zf<$f;Zf++){const _f=void 0===Xf[Zf].material?wd(this.cache):this.getDependency("material",Xf[Zf].material);Yf.push(_f)}return Yf.push(Tf.loadGeometries(Xf)),Promise.all(Yf).then(function(a){const b=a.slice(0,a.length-1),c=a[a.length-1],e=[];for(let f=0,g=c.length;f<g;f++){const h=c[f],i=Xf[f];let j;const k=b[f];if(4===i.mode||5===i.mode||6===i.mode|| void 0===i.mode)!0!==(j=!0===Wf.isSkinnedMesh?new d.TUv(h,k):new d.Kj0(h,k)).isSkinnedMesh||j.geometry.attributes.skinWeight.normalized||j.normalizeSkinWeights(),5===i.mode?j.geometry=Tg(j.geometry,d.UlW):6===i.mode&&(j.geometry=Tg(j.geometry,d.z$h));else if(1===i.mode)j=new d.ejS(h,k);else if(3===i.mode)j=new d.x12(h,k);else if(2===i.mode)j=new d.blk(h,k);else if(0===i.mode)j=new d.woe(h,k);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+i.mode);Object.keys(j.geometry.morphAttributes).length>0&&zd(j,Wf),j.name=Tf.createUniqueName(Wf.name||"mesh_"+Sf),yd(j,Wf),i.extensions&&xd(Vf,j,i),Tf.assignFinalMaterial(j),e.push(j)}for(let l=0,m=e.length;l<m;l++)Tf.associations.set(e[l],{meshes:Sf,primitives:l});if(1===e.length)return e[0];const n=new d.ZAu();Tf.associations.set(n,{meshes:Sf});for(let o=0,p=e.length;o<p;o++)n.add(e[o]);return n})}loadCamera(ag){let bg;const cg=this.json.cameras[ag],dg=cg[cg.type];if(!dg){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===cg.type?bg=new d.cPb(d.M8C.radToDeg(dg.yfov),dg.aspectRatio||1,dg.znear||1,dg.zfar||20e5):"orthographic"===cg.type&&(bg=new d.iKG(-dg.xmag,dg.xmag,dg.ymag,-dg.ymag,dg.znear,dg.zfar)),cg.name&&(bg.name=this.createUniqueName(cg.name)),yd(bg,cg),Promise.resolve(bg)}loadSkin(eg){const fg=this.json.skins[eg],gg={joints:fg.joints};return void 0===fg.inverseBindMatrices?Promise.resolve(gg):this.getDependency("accessor",fg.inverseBindMatrices).then(function(a){return gg.inverseBindMatrices=a,gg})}loadAnimation(hg){const ig=this.json,jg=ig.animations[hg],kg=[],lg=[],mg=[],ng=[],og=[];for(let pg=0,qg=jg.channels.length;pg<qg;pg++){const rg=jg.channels[pg],sg=jg.samplers[rg.sampler],tg=rg.target,ug=void 0!==tg.node?tg.node:tg.id,vg=void 0!==jg.parameters?jg.parameters[sg.input]:sg.input,wg=void 0!==jg.parameters?jg.parameters[sg.output]:sg.output;kg.push(this.getDependency("node",ug)),lg.push(this.getDependency("accessor",vg)),mg.push(this.getDependency("accessor",wg)),ng.push(sg),og.push(tg)}return Promise.all([Promise.all(kg),Promise.all(lg),Promise.all(mg),Promise.all(ng),Promise.all(og)]).then(function(a){const b=a[0],c=a[1],e=a[2],f=a[3],g=a[4],h=[];for(let i=0,j=b.length;i<j;i++){const k=b[i],l=c[i],m=e[i],n=f[i],o=g[i];if(void 0===k)continue;k.updateMatrix(),k.matrixAutoUpdate=!0;let p;switch(td[o.path]){case td.weights:p=d.dUE;break;case td.rotation:p=d.iLg;break;case td.position:case td.scale:default:p=d.yC1;break}const q=k.name?k.name:k.uuid,r=void 0!==n.interpolation?ud[n.interpolation]:d.NMF,s=[];td[o.path]===td.weights?k.traverse(function(a){!0===a.isMesh&&a.morphTargetInfluences&&s.push(a.name?a.name:a.uuid)}):s.push(q);let t=m.array;if(m.normalized){const u=Cd(t.constructor),v=new Float32Array(t.length);for(let w=0,x=t.length;w<x;w++)v[w]=t[w]*u;t=v}for(let y=0,z=s.length;y<z;y++){const A=new p(s[y]+"."+td[o.path],l.array,t,r);"CUBICSPLINE"===n.interpolation&&(A.createInterpolant=function(a){const b=this instanceof d.iLg?id:Yc;return new b(this.times,this.values,this.getValueSize()/3,a)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),h.push(A)}}const B=jg.name?jg.name:"animation_"+hg;return new d.m7l(B,void 0,h)})}createNodeMesh(xg){const yg=this.json,zg=this,Ag=yg.nodes[xg];return void 0===Ag.mesh?null:zg.getDependency("mesh",Ag.mesh).then(function(a){const b=zg._getNodeRef(zg.meshCache,Ag.mesh,a);return void 0!==Ag.weights&&b.traverse(function(a){if(a.isMesh)for(let b=0,c=Ag.weights.length;b<c;b++)a.morphTargetInfluences[b]=Ag.weights[b]}),b})}loadNode(Bg){const Cg=this.json,Dg=this.extensions,Eg=this,Fg=Cg.nodes[Bg],Gg=Fg.name?Eg.createUniqueName(Fg.name):"";return(function(){const a=[],b=Eg._invokeOne(function(a){return a.createNodeMesh&&a.createNodeMesh(Bg)});return b&&a.push(b),void 0!==Fg.camera&&a.push(Eg.getDependency("camera",Fg.camera).then(function(a){return Eg._getNodeRef(Eg.cameraCache,Fg.camera,a)})),Eg._invokeAll(function(a){return a.createNodeAttachment&&a.createNodeAttachment(Bg)}).forEach(function(b){a.push(b)}),Promise.all(a)})().then(function(a){let b;if((b=!0===Fg.isBone?new d.N$j():a.length>1?new d.ZAu():1===a.length?a[0]:new d.Tme())!==a[0])for(let c=0,e=a.length;c<e;c++)b.add(a[c]);if(Fg.name&&(b.userData.name=Fg.name,b.name=Gg),yd(b,Fg),Fg.extensions&&xd(Dg,b,Fg),void 0!==Fg.matrix){const f=new d.yGw();f.fromArray(Fg.matrix),b.applyMatrix4(f)}else void 0!==Fg.translation&&b.position.fromArray(Fg.translation),void 0!==Fg.rotation&&b.quaternion.fromArray(Fg.rotation),void 0!==Fg.scale&&b.scale.fromArray(Fg.scale);return Eg.associations.has(b)||Eg.associations.set(b,{}),Eg.associations.get(b).nodes=Bg,b})}loadScene(Hg){const Ig=this.json,Jg=this.extensions,Kg=this.json.scenes[Hg],Lg=this,Mg=new d.ZAu();Kg.name&&(Mg.name=Lg.createUniqueName(Kg.name)),yd(Mg,Kg),Kg.extensions&&xd(Jg,Mg,Kg);const Ng=Kg.nodes||[],Og=[];for(let Pg=0,Qg=Ng.length;Pg<Qg;Pg++)Og.push(Rg(Ng[Pg],Mg,Ig,Lg));return Promise.all(Og).then(function(){return Lg.associations=(a=>{const b=new Map();for(const[c,e]of Lg.associations)(c instanceof d.F5T||c instanceof d.xEZ)&&b.set(c,e);return a.traverse(a=>{const c=Lg.associations.get(a);null!=c&&b.set(a,c)}),b})(Mg),Mg})}}function Rg(a,b,c,e){const f=c.nodes[a];return e.getDependency("node",a).then(function(a){if(void 0===f.skin)return a;let b;return e.getDependency("skin",f.skin).then(function(a){b=a;const c=[];for(let d=0,f=b.joints.length;d<f;d++)c.push(e.getDependency("node",b.joints[d]));return Promise.all(c)}).then(function(c){return a.traverse(function(a){if(!a.isMesh)return;const e=[],f=[];for(let g=0,h=c.length;g<h;g++){const i=c[g];if(i){e.push(i);const j=new d.yGw();void 0!==b.inverseBindMatrices&&j.fromArray(b.inverseBindMatrices.array,16*g),f.push(j)}else console.warn("THREE.GLTFLoader: Joint \"%s\" could not be found.",b.joints[g])}a.bind(new d.OdW(e,f),a.matrixWorld)}),a})}).then(function(a){b.add(a);const d=[];if(f.children){const g=f.children;for(let h=0,i=g.length;h<i;h++){const j=g[h];d.push(Rg(j,a,c,e))}}return Promise.all(d)})}function Sg(a,b,c){const e=b.attributes,f=[];function g(b,d){return c.getDependency("accessor",b).then(function(b){a.setAttribute(d,b)})}for(const h in e){const i=sd[h]||h.toLowerCase();i in a.attributes||f.push(g(e[h],i))}if(void 0!==b.indices&&!a.index){const j=c.getDependency("accessor",b.indices).then(function(b){a.setIndex(b)});f.push(j)}return yd(a,b),!function(a,b,c){const e=b.attributes,f=new d.ZzF();if(void 0===e.POSITION)return;{const g=c.json.accessors[e.POSITION],h=g.min,i=g.max;if(void 0!==h&& void 0!==i){if(f.set(new d.Pa4(h[0],h[1],h[2]),new d.Pa4(i[0],i[1],i[2])),g.normalized){const j=Cd(od[g.componentType]);f.min.multiplyScalar(j),f.max.multiplyScalar(j)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}const k=b.targets;if(void 0!==k){const l=new d.Pa4(),m=new d.Pa4();for(let n=0,o=k.length;n<o;n++){const p=k[n];if(void 0!==p.POSITION){const q=c.json.accessors[p.POSITION],r=q.min,s=q.max;if(void 0!==r&& void 0!==s){if(m.setX(Math.max(Math.abs(r[0]),Math.abs(s[0]))),m.setY(Math.max(Math.abs(r[1]),Math.abs(s[1]))),m.setZ(Math.max(Math.abs(r[2]),Math.abs(s[2]))),q.normalized){const t=Cd(od[q.componentType]);m.multiplyScalar(t)}l.max(m)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}f.expandByVector(l)}a.boundingBox=f;const u=new d.aLr();f.getCenter(u.center),u.radius=f.min.distanceTo(f.max)/2,a.boundingSphere=u}(a,b,c),Promise.all(f).then(function(){return void 0!==b.targets?(function(a,b,c){let d=!1,e=!1;for(let f=0,g=b.length;f<g;f++){const h=b[f];if(void 0!==h.POSITION&&(d=!0),void 0!==h.NORMAL&&(e=!0),d&&e)break}if(!d&&!e)return Promise.resolve(a);const i=[],j=[];for(let k=0,l=b.length;k<l;k++){const m=b[k];if(d){const n=void 0!==m.POSITION?c.getDependency("accessor",m.POSITION):a.attributes.position;i.push(n)}if(e){const o=void 0!==m.NORMAL?c.getDependency("accessor",m.NORMAL):a.attributes.normal;j.push(o)}}return Promise.all([Promise.all(i),Promise.all(j)]).then(function(b){const c=b[0],f=b[1];return d&&(a.morphAttributes.position=c),e&&(a.morphAttributes.normal=f),a.morphTargetsRelative=!0,a})})(a,b.targets,c):a})}function Tg(a,b){let c=a.getIndex();if(null===c){const e=[],f=a.getAttribute("position");if(void 0===f)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a;for(let g=0;g<f.count;g++)e.push(g);a.setIndex(e),c=a.getIndex()}const h=c.count-2,i=[];if(b===d.z$h)for(let j=1;j<=h;j++)i.push(c.getX(0)),i.push(c.getX(j)),i.push(c.getX(j+1));else for(let k=0;k<h;k++)k%2==0?(i.push(c.getX(k)),i.push(c.getX(k+1)),i.push(c.getX(k+2))):(i.push(c.getX(k+2)),i.push(c.getX(k+1)),i.push(c.getX(k)));i.length/3!==h&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=a.clone();return l.setIndex(i),l}}}])